# UC1 - Register Organization

## 1- Requirements engineering

The administrator begins the registration of an organization. The system requests information about the organization (e.g. name, email, nif, address), the manager(e.g. name, email, phone number) and the collaborator(e.g. name, email, phone number). The administrator inserts the information. The system validates the information and shows it to the administrator to confirm. The administrator confirms. The system registers the information about the organization, gives an automatic and secure password to the Collaborator and the Manager, and informs the administrator about the success of the operation.

### SSD

![UC1-SSD](UC1_SSD.svg)


## Full Format

#### Main actor

Administrator

#### Stakeholders and their interests

**Administrator:** Regists the organization 
**T4J:** Wants the organization to register in order to use the platform.

#### Preconditions

* The administrator must exist.

#### Postconditions

* The organization is created.

#### Main success scenario (or basic flow)

1. The administrator begins the registration of an organization.
2. The system requests information about the organization(e.g. name, email, nif), the manager(e.g. name, email) and the collaborator(e.g. name, email, phone number).
3. The administrator inserts the information.
4. The system authenticates the information and asks to confirm.
5. The administrator confirms.
6. The system regists the information about the organization, the manager and the collaborator and gives an automatic and secure password to the Collaborator and the Manager informing the administrator about the success of the operation.

#### Extensions (alternative flow)

a. The administrator cancels the registration.
b. The information already exists.
b. Missing minimum required information.


1a.
>	1. The use case ends.

3b. The organization already exists in the system.
>	1. The use case ends.

3b. The Manager already exists in another organization.
>	1. The system allows the administrator to enter another Manager.
>		1a. The administrator doesn't change the information about the Manager and the use case ends.

3b. The Collaborator already exists in another organization.
>	1. The system allows the administrator to enter another Collaborator
>		1a. The administrator doesn't change the information about the Collaborator and the use case ends.

3c. 
>	1. The system reports the missing information.
>	2. The system allows the administator to insert the missing information.
>		2a. The administrator doesn't change the information. the use case ends.

4a. The system detects the information added already exists in the system.
>	1. The system alerts the administrator.
>	2. The system lets the user change the information
>		2a. The administrator doesn't change the information. the use case ends.

5a.
>	1. The administrator doesn't confirm.
>	2. The information about the organization is not registered. The use case ends.

#### Special requirements

The Manager and the Collaborator passwords are generated by an external algorithm

--------------------

#### List of Technologies and Data Variations

N/A

--------------------

#### Frequency of Occurrence

N/A

--------------------

#### Open questions

* Which information can detect the duplication of organizations, managers and collaborators?
* Which security rules are applied to the password?

## 2. Object oriented analysis

### Relevant Domain Model for UC

![UC1-MD](UC1_MD.svg)


## 3.Design - Use Case realization

| Basic flow| Question: What class.. | Answer  | Justification  |
|:--------------  |:---------------------- |:----------|:---------------------------- |
|1. The administrator begins the registration process of an organization. |... interacts with the user? | RegistOrganizacionUI | Pure fabrication |
| |... Coordinates the UC? | RegistOrganizationController | Controller |
| |... creates instances of organizations? | RegisterOrganization | Creator(rule 1) / HC+LC with Platform |
| |...knows RegisterOrganization? | Platform | IE: Platform knows RegisterOrganization |
|2. The system requests information about the organization (e.g. name, email, nif, address), the manager(e.g. name, email) and the collaborator(e.g. name, email, phone number) |
|3. The administrator inserts the information | Stores the information inserted? | Organization, Address, Collaborator, Manager | IE: instance created in step 1 |
| | Creates instances of Addresses? | Organization | creator(rule 1) |
| | Creates instances of Collaborator? | Organization | creator(rule 1) |
| | Creates instances of  Manager? | Organization | creator(rule 1) |
|4.  The system authenticates the information and shows it to the administrator to confirm | ... authenticates the information of the Organization? (local validation) | Organization | IE: Has its own information |
| | ...authenticates the information of the Collaborator? (local validation) | Collaborator | IE: Has its own information |
| | ...authenticates the information of the Manager? (local validation) | Manager | IE: Has its own information |
| | ...authenticates the information of the Address? (local validation) | Address | IE: Has its own information |
| | ...authenticates the information of the Organization? (global validation) | RegisterOrganization | IE: RegisterOrganization has Organizations registered |
|5. The administrator confirms |
|6. The system registers the information about the Organization, the Manager and Collaborator and gives an automatic password(generated by the system) by email and informs the administrator about the success of the operation | ...stores the created organization? | RegisterOrganization |HC+LC/IE : In MD the RegisterOrganization has Organization |
| |... generates the password | PasswordGenerator | Protected variation |
| |... regists/stores the user associated with the Manager and Collaborator | AuthorizationFacade | IE: User management is the responsibility of the respective external component whose point of interaction is through the "Facade Authorization" class | 
| | ...sends, by email, the login information to the Manager and Collaborator? | RegistOrganization | IE: Has the information to do it |

### Systematization

From the rational the conceptual classes promoted to software classes are:

* Platform
* Administrator
* Manager
* Collaborator
* Organization
* PasswordGenerator

Other software classes (i.e. Pure Fabrication) identified:

* RegistOrganizationUI
* RegistOrganizationController
* AuthorizationFacade
* RegistOrganization

### Sequence Diagram

![UC1-SD](UC1_SD.svg)

##### UC1_SD_RegistUser
![UC1-SD-RegistUser](UC1_SD_RegistUser.svg)

### Class Diagram

![UC1-CD](UC1_CD.svg)