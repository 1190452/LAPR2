@startuml
autonumber
'hide footbox
actor "Manager" as ADM

participant ":PaymentUI" as UI
participant ":DefinePaymentController" as CTRL
participant ":Transaction" as TRAN
participant "pay:Payment" as PAY
participant "dpay:DefinePayment" as DPAY


activate ADM
ADM -> UI : The manager of the organization selects the processment cycle of payment transactions.
activate UI
UI --> ADM : The System asks for the day of the month, the time of the day and the recurrence time period (e.g. 7 days).
deactivate UI

ADM -> UI : The Manager inserts the information.
activate UI

UI -> CTRL : newDefinePayment(time, date, nrDays)
activate CTRL


CTRL -> PAY : payments = getPayments()
activate PAY
deactivate PAY

CTRL -> PAY : define = newDefinePayment(time, date, nrDays)
activate PAY
PAY -> DPAY** : create(time, date, nrDays)
deactivate PAY

CTRL -> PAY : validatesDefinePayment(define)
activate PAY
deactivate PAY

deactivate CTRL

UI --> ADM : shows the information and asks for confirmation.
deactivate UI

ADM -> UI : confirms the data
activate UI

UI -> CTRL : registerDefinePayment()
activate CTRL

CTRL -> DPAY : registersDefinePayment(define)
activate DPAY
DPAY -> DPAY : validatesDefinePayment(define)
DPAY -> DPAY : addDefinePayment(define)
deactivate DPAY
deactivate CTRL

UI -> ADM : informs about the success of the operation
deactivate UI
deactivate ADM



@enduml
